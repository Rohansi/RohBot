var urlize=function(){function t(e,t){return e.substr(0,t.length)==t}function n(e,t){return e.substr(e.length-t.length,t.length)==t}function r(e,t){var n=0;var r=0;while(true){r=e.indexOf(t,r);if(r!=-1){n++;r+=t.length}else{break}}return n}function s(e){var t=e.indexOf(":");e=e.substring(0,t).toLowerCase()+e.substring(t);if(e.indexOf("%")==-1||e.match(i)){return encodeURI(e)}else{return e}}function d(e,t){var n=e.replace(/&/g,"&").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;");if(t&&!t.django_compatible){n=n.replace(/\//g,"&#47;")}return n}function v(e){return e.replace(/&/g,"&").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function m(e){var t;if(e.length==2&&typeof e[1]=="object"){t=e[1]}else{t={nofollow:e[1],autoescape:e[2],trim_url_limit:e[3],target:e[4]}}if(!("django_compatible"in t))t.django_compatible=true;return t}function g(i,g){function y(e,t){if(t===undefined)t=g.trim_url_limit;if(t&&e.length>t)return e.substr(0,t-3)+"...";return e}g=m(arguments);var b=false;var w=g.django_compatible?l:c;var E=g.django_compatible?o:u;var S=g.django_compatible?a:f;var x=e(i,w);for(var T=0;T<x.length;T++){var N=x[T];var C=undefined;if(N.indexOf(".")!=-1||N.indexOf("@")!=-1||N.indexOf(":")!=-1){var k="";var L=N;var A="";for(var O=0;O<E.length;O++){var M=E[O];if(n(L,M)){L=L.substr(0,L.length-M.length);A=M+A}}for(var O=0;O<S.length;O++){var _=S[O][0];var D=S[O][1];if(t(L,_)){L=L.substr(_.length);k=k+_}if(n(L,D)&&r(L,D)==r(L,_)+1){L=L.substr(0,L.length-D.length);A=D+A}}var P=undefined;var H=g.nofollow?' rel="nofollow"':"";var B=g.target?' target="'+g.target+'"':"";if(L.match(h))P=s(L);else if(L.match(p))P=s("http://"+L);if(P){var j=y(L);if(g.autoescape){k=d(k,g);A=d(A,g);P=v(P);j=d(j,g)}L='<a href="'+P+'"'+H+B+">"+j+"</a>";x[T]=k+L+A}else{if(b){}else if(g.autoescape){x[T]=d(N,g)}}}else if(b){}else if(g.autoescape){x[T]=d(N,g)}}return x.join("")}var e;e=e||function(e){var t=String.prototype.split,n=/()??/.exec("")[1]===e,r;r=function(r,i,s){if(Object.prototype.toString.call(i)!=="[object RegExp]"){return t.call(r,i,s)}var o=[],u=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.extended?"x":"")+(i.sticky?"y":""),a=0,i=new RegExp(i.source,u+"g"),f,l,c,h;r+="";if(!n){f=new RegExp("^"+i.source+"$(?!\\s)",u)}s=s===e?-1>>>0:s>>>0;while(l=i.exec(r)){c=l.index+l[0].length;if(c>a){o.push(r.slice(a,l.index));if(!n&&l.length>1){l[0].replace(f,function(){for(var t=1;t<arguments.length-2;t++){if(arguments[t]===e){l[t]=e}}})}if(l.length>1&&l.index<r.length){Array.prototype.push.apply(o,l.slice(1))}h=l[0].length;a=c;if(o.length>=s){break}}if(i.lastIndex===l.index){i.lastIndex++}}if(a===r.length){if(h||!i.test("")){o.push("")}}else{o.push(r.slice(a))}return o.length>s?o.slice(0,s):o};return r}();var i=/%(?![0-9A-Fa-f]{2})/;var o=[".",",",":",";"];var u=[".",",",":",";",".)"];var a=[["(",")"],["<",">"],["&lt;","&gt;"]];var f=[["(",")"],["<",">"],["&lt;","&gt;"],["“","”"],["‘","’"]];var l=/(\s+)/;var c=/([\s<>"]+)/;var h=/^https?:\/\/\w/i;var p=/^www\./i;g.test={};g.test.split=e;g.test.convert_arguments=m;return g}()